# 🔄 更新与备份迁移

如何更新 SillyTavern 到最新版本，以及如何安全地备份和迁移数据。

## 更新 SillyTavern

### Windows

1. 首先尝试 ST 根目录下的 **`UpdateAndStart.bat`**（双击运行即可）
2. 若 `UpdateAndStart.bat` 失败，在 ST 文件夹中打开命令行，手动执行：

```bash
git pull
```

### Linux / MacOS

```bash
cd SillyTavern
git pull
```

### Android (Termux)

```bash
cd SillyTavern
git pull
```

::: tip 使用一键脚本的用户
如果你使用了一键脚本来安装 ST，**推荐同样使用一键脚本来更新**，以确保兼容性。
:::

## 备份与迁移数据

当你需要迁移到新设备、重新安装系统、或在全新安装的 ST 中恢复数据时，按以下步骤操作：

### 需要备份的内容

从旧的 ST 安装目录中，复制以下内容：

| 文件/目录     | 说明                                     | 必要性   |
| ------------- | ---------------------------------------- | -------- |
| `/data` 目录  | 所有用户数据（角色卡、聊天记录、预设等） | **必需** |
| `config.yaml` | ST 配置文件（端口、API 密钥等）          | 可选     |

### 迁移步骤

1. **备份数据** — 从旧 ST 目录中复制 `/data` 文件夹和 `config.yaml`，保存到安全位置

2. **安装新 ST** — 在新环境中全新安装 SillyTavern（参考对应系统的安装教程）

3. **初始化新 ST** — 运行一次新安装的 ST，在浏览器中打开后**点击语言选择页面的「保存」按钮**

   ::: warning 重要
   这一步**不能跳过**！新 ST 需要先初始化一次，才能正确识别导入的数据。
   :::

4. **覆盖数据** — 关闭 ST，将之前备份的 `/data` 文件夹和 `config.yaml` 复制到新 ST 目录中，覆盖现有文件

5. **重新启动** — 再次启动 ST，所有数据应已恢复

---

::: info 📖 详细图文教程
更详细的备份与恢复图文指引，请参考 Discord 帖子：[备份与恢复教程](https://discord.com/channels/1134557553011998840/1327980841497788457/1327980841497788457)
:::
